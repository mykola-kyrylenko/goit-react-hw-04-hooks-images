{"version":3,"sources":["App.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.jsx","services/api.js","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Button","onClick","type","className","s","button","api","data","query","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","setQuery","SearchForm","event","preventDefault","toast","error","SearchForm_button","SearchForm_button__label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","modalRoot","document","querySelector","Modal","imageURL","toggleModal","useEffect","addEventListener","closeModal","removeEventListener","code","createPortal","overlay","target","modal","src","alt","ImageGalleryItem","webformatURL","largeImageURL","id","ImageGalleryItem_image","ImageGallery","images","length","map","PuffLoader","loader","color","height","width","timeout","App","setPage","setImages","setError","loading","setLoading","setLargeImageURL","showModal","setShowModal","fetchData","total","hits","window","scrollTo","top","documentElement","offsetHeight","behavior","catch","message","finally","prevPage","Loader","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9880e7b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1bMQH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__38axn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1GbHA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1e0y4\"};","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n    <button type=\"button\" onClick={onClick} className={s.button}>\r\n      Load more\r\n    </button>\r\n    </div>\r\n\r\n  )\r\n};\r\nexport default Button;","\r\n    // KEY: `21647427-119fc9e63c06e8167cfe2cce4`,\r\n    // HTTP: `https://pixabay.com/api/?`,\r\nfunction data(query, page) {\r\n    return fetch(\r\n        `https://pixabay.com/api/?q=${query}&page=${page}&key=21647427-119fc9e63c06e8167cfe2cce4&image_type=photo&orientation=horizontal&per_page=15`)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n                \r\n            return Promise.reject(new Error(`Ничего не найдено по вашему запросу `));\r\n        });\r\n}\r\n\r\nconst api = {data};\r\n\r\nexport default api;","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n    const [query, setQuery] = useState('');\r\n\r\n    const handleQueryChange = event => {\r\n        setQuery(event.currentTarget.value );\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (query === '') {\r\n            toast.error('Please enter your request!');\r\n            return;\r\n        };;\r\n\r\n        onSubmit(query);\r\n        // setQuery( query);\r\n        // console.log(query)\r\n    };\r\n\r\n    return (\r\n            <div>\r\n                <header className={s.Searchbar}>\r\n                    <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n                        <button type=\"submit\" className={s.SearchForm_button}>\r\n                            <span className={s.SearchForm_button__label}>Search</span>\r\n                        </button>\r\n\r\n                        <input\r\n                            className={s.SearchForm_input}\r\n                            type=\"text\"\r\n                            autoComplete=\"off\"\r\n                            autoFocus\r\n                            placeholder=\"Search images and photos\"\r\n                            value={query}\r\n                            onChange={handleQueryChange}\r\n                        />\r\n                    </form>\r\n                </header>\r\n            </div>\r\n    );\r\n};\r\n\r\nexport default Searchbar;\r\n// class Searchbar extends Component {\r\n//     state = {\r\n//         query: '',\r\n//     };\r\n\r\n//     handleQueryChange = event => {\r\n//         this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n//     };\r\n\r\n//     handleSubmit = event => {\r\n//         event.preventDefault();\r\n\r\n//         if (this.state.query.trim() === '') {\r\n//             toast.error('Please enter your request!');\r\n//             return;\r\n//         };;\r\n\r\n//         this.props.onSubmit(this.state.query);\r\n//         this.setState({ query: '' });\r\n//         console.log(this.state.query)\r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//                 <header className={s.Searchbar}>\r\n//                     <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n//                         <button type=\"submit\" className={s.SearchForm_button}>\r\n//                             <span className={s.SearchForm_button__label}>Search</span>\r\n//                         </button>\r\n\r\n//                         <input\r\n//                             className={s.SearchForm_input}\r\n//                             type=\"text\"\r\n//                             autoComplete=\"off\"\r\n//                             autoFocus\r\n//                             placeholder=\"Search images and photos\"\r\n//                             value={this.state.query}\r\n//                             onChange={this.handleQueryChange}\r\n//                         />\r\n//                     </form>\r\n//                 </header>\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\n\r\n// export default Searchbar;\r\n\r\n   ","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useEffect } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#root');\r\n\r\nconst Modal = ({imageURL, toggleModal=null}) => {\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', closeModal);\r\n    return () => {\r\n      document.removeEventListener('keydown', closeModal);\r\n    };\r\n  });\r\n\r\n  const closeModal = event => {\r\n    if (event.code === 'Escape') {\r\n      toggleModal();\r\n    }\r\n  };\r\n  \r\n  const onBackDropClick = event => {\r\n    if (event.target === event.currentTarget) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={onBackDropClick}>\r\n      <div className={s.modal}>\r\n        <img src={imageURL} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ onClick, webformatURL,largeImageURL, id}) {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <li\r\n                className={s.ImageGalleryItem}\r\n                onClick={() => { onClick(largeImageURL) }}\r\n                id={id}\r\n             >\r\n                <img src={webformatURL} alt=\"\" className={s.ImageGalleryItem_image} />\r\n            </li>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({images, onClick}) => {\r\n    return (\r\n <ul className={s.ImageGallery} >\r\n        {images.length > 0 &&\r\n          images.map(({ id, webformatURL, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n            webformatURL={webformatURL}\r\n              largeImageURL={largeImageURL}\r\n              onClick={onClick}\r\n          />\r\n        ))}\r\n    </ul>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\n\r\nconst PuffLoader = () => {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n      Loading ...\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PuffLoader;","import { useState, useEffect } from 'react';\nimport { ToastContainer, toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport s from './App.module.css';\nimport Button from './components/Button/Button';\nimport fetchData from './services/api';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Modal from './components/Modal/Modal';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\n\nconst App = () => {\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  const handleFormSubmit = query => {\n    setQuery(query);\n    setImages([]);\n    setPage(1);\n    setError(null)\n  };\n\n  const onClickImage = largeImageURL => {\n    // console.log(largeImageURL)\n    setShowModal(showModal => !showModal)\n    setLargeImageURL(largeImageURL );\n  };\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    };\n    \n    setLoading(true);\n\n    const fetchImages = () => {\n      setLoading( true );\n      fetchData\n        .data(query, page)\n        .then(({ total, hits }) => {\n          if (total === 0) {\n            toast.error(`По запросу ничего не найдено! Введите другой запрос`)\n          }\n\n\n          setImages(hits);\n              \n          window.scrollTo({\n            top: document.documentElement.offsetHeight,\n            behavior: 'smooth',\n          });                  \n        })\n\n        .catch(error => setError( error.message ))\n        .finally(setLoading(false));\n    };\n\n    fetchImages();\n\n  }, [page, query]);\n\n    const toggleModal = () => {\n        setShowModal(!showModal)\n    };\n\n\n\n  return (\n      <div className={s.App}>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {error && <h1>{error}</h1>}   \n\n        <ImageGallery images={images} onClick={onClickImage}/>\n        \n        {showModal && (\n          <Modal imageURL={largeImageURL} toggleModal={toggleModal} />\n        )}\n\n        {images.length > 0 && (\n        <Button onClick={() => {\n          setPage(prevPage => prevPage + 1)\n        }} />\n        )}\n      \n        {loading && <Loader />}\n\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2j-kb\",\"SearchForm\":\"Searchbar_SearchForm__1accT\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2EhCI\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2GS_H\",\"SearchForm_button__label\":\"Searchbar_SearchForm_button__label__3DRds\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2bzA5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2l4yj\",\"modal\":\"Modal_modal__3GCUk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2c1LD\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__pNibb\"};"],"sourceRoot":""}